#### 3.2. 日期與時間轉換

第一種轉換為二元編碼或獨熱編碼(Binary encoding or one-hot encoding)，將類別型變數轉換為數值型特徵，每個類別對應一個二元值（0或1）。
此種轉換涉及日期/時間變數，主要是建立能表徵潛在相關時段的二元特徵。我們將建立兩個這樣的特徵：
- 第一個用於判別交易是發生在平日還是週末；
- 第二個則用於判別交易是發生在日間還是夜間。
這些特徵相當實用，因為在真實世界的資料集中已觀察到，詐欺模式在平日與週末之間，以及日間與夜間之間都存在差異。

我們將從交易日期和時間建立兩個新的二元特徵：

- 第一個特徵將用於判別交易是發生在平日（值為0）還是週末（值為1），這個特徵將命名為`TX_DURING_WEEKEND`
- 第二個特徵將用於判別交易是發生在日間（值為0）還是夜間（值為1）。此處將夜間定義為晚上0點至早上6點之間的時段。這個特徵將命名為`TX_DURING_NIGHT`

對於`TX_DURING_WEEKEND`特徵，我們定義一個名為`is_weekend`的函式，該函式接受一個Pandas時間戳記作為輸入，如果日期是週末則回傳1，否則回傳0。時間戳記物件提供了便利的`weekday`函式來協助計算這個值。

接著，我們可以使用Pandas的`apply`函式，輕鬆地為所有交易計算這個特徵。

我們採用相同的邏輯來實作`TX_DURING_NIGHT`特徵。首先建立一個名為`is_night`的函式，該函式接受一個Pandas時間戳記作為輸入，如果時間是在夜間則回傳1，否則回傳0。時間戳記物件提供了便利的hour屬性來協助計算這個值。

讓我們檢查這些特徵是否已正確計算。

2024年5月1日是星期三，而2024年9月29日是星期日。這些日期分別被正確標記為平日和週末。日夜特徵的設定也是正確的，第一筆交易發生在0點剛過後，最後一筆交易則發生在0點前不久。
